(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,a,t){e.exports={header:"styles_header__u0T1c",shadow:"styles_shadow__ikOPH",icon:"styles_icon__GPpZ5",body:"styles_body__ObIzz",infoPlain:"styles_infoPlain__14kC2",stripName:"styles_stripName__3wdAs",error:"styles_error__YiQfo",chart:"styles_chart__35ldX",classifier:"styles_classifier__3GnaC",cell:"styles_cell__jeEGT",iconRed:"styles_iconRed__3PIx5",iconGreen:"styles_iconGreen__3Iw1h",news:"styles_news__1Z-jq",newsCards:"styles_newsCards__1HULW",box:"styles_box__306bg",green:"styles_green__11iCq",red:"styles_red__2l0NY"}},19:function(e,a,t){e.exports={header:"styles_header__Jl241",shadow:"styles_shadow__3jnKl",icon:"styles_icon__3vePF",home:"styles_home__1cbIZ",returnIcon:"styles_returnIcon__3RTbP"}},3:function(e,a,t){e.exports={header:"styles_header__3E7ua",shadow:"styles_shadow__DqCct",icon:"styles_icon__3TWi8",body:"styles_body__1ey4s",title:"styles_title__yuCnr",plugInfo:"styles_plugInfo__3RHeT",menu:"styles_menu__nrfGu",dot:"styles_dot__3lpkg",fineDot:"styles_fineDot__2tD8Y",plugPlain:"styles_plugPlain__1FPQt",plug:"styles_plug__1Tb6U",iconOn:"styles_iconOn__3fw2A",iconOff:"styles_iconOff__3fg6E",mainInfo:"styles_mainInfo__Zdh7a",fine:"styles_fine__jmuZQ",addPlug:"styles_addPlug__1ec8z",addButton:"styles_addButton__3lGBe"}},30:function(e,a,t){e.exports=t(43)},42:function(e,a,t){e.exports={header:"app_header__1uuLo",shadow:"app_shadow__1FH9F",icon:"app_icon__2z8e4",root:"app_root__274Gp","fill-parent":"app_fill-parent__yNYdK","fill-space":"app_fill-space__1nWFr","absolute-parent":"app_absolute-parent__daiXp","page-animation":"app_page-animation__1Q6wD",subpages:"app_subpages__3vVp4","subpages-empty":"app_subpages-empty__1J7w4",clearfix:"app_clearfix__1vfvC"}},43:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),c=t(26),l=t.n(c),r=t(6),i=t(7),o=t(9),m=t(8),p=t(10),d=t(16),u=function(e){function a(){return Object(r.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement(d.a,null,this.props.app)}}]),a}(s.a.Component),_=t(12),v=t(5),y=t.n(v),f=t(4),h=t.n(f),E=t(15);function N(){return(N=Object(E.a)(h.a.mark(function e(a,t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://10.89.238.234:5001/api/v0.1/".concat(a),{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","Cache-Control":"no-cache"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:if("string"===typeof(n=e.sent)&&(n.startsWith("{")||n.startsWith("["))&&(n=JSON.parse(n)),!n||!n.error){e.next=10;break}throw console.error(n.error),n.error;case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var b=function(e,a){return N.apply(this,arguments)},O=t(3),w=t.n(O);function R(e,a){return g.apply(this,arguments)}function g(){return(g=Object(E.a)(h.a.mark(function e(a,t){var n,s,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={relay:y.a.join(a,";"),r_led:0,g_led:0},s={relayJSON:n,plugID:t},e.next=4,b("ctrl",s);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var j=function(e){function a(e,t){var n;return Object(r.a)(this,a),(n=Object(o.a)(this,Object(m.a)(a).call(this,e,t))).state={count:[],cpwr:[],cur:[],pfactor:[],relay:[],tmp:[],tpwr:[],vol:0,timestamp:0,dayRecord:{}},n}return Object(p.a)(a,e),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidMount",value:function(){var e=Object(E.a)(h.a.mark(function e(){var a,t,n,s,c,l,r,i,o,m,p,d,u=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={plug:this.props.plugID},e.next=3,b("get_data",a);case 3:t=e.sent,console.log("result",t),n=t.COUNT.split(";")||[],s=t.CPWR.split(";")||[],c=t.CUR.split(";")||[],l=t.PFACTOR.split(";"),r=t.RELAY.split(";"),i=t.TMP.split(";"),o=t.TPWR.split(";"),m=t.VOL||0,p=t.timestamp||0,d=t.dayRecord||{},this.setState({count:n,cpwr:s,cur:c,pfactor:l,relay:r,tmp:i,tpwr:o,vol:m,timestamp:p,dayRecord:d}),this.interval=setInterval(Object(E.a)(h.a.mark(function e(){var t,n,s,c,l,r,i,o,m,p,d;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("get_data",a);case 2:t=e.sent,console.log("result",t),n=t.COUNT.split(";")||[],s=t.CPWR.split(";")||[],c=t.CUR.split(";")||[],l=t.PFACTOR.split(";"),r=t.RELAY.split(";"),i=t.TMP.split(";"),o=t.TPWR.split(";"),m=t.VOL||0,p=t.timestamp||0,d=t.dayRecord||{},u.setState({count:n,cpwr:s,cur:c,pfactor:l,relay:r,tmp:i,tpwr:o,vol:m,timestamp:p,dayRecord:d});case 15:case"end":return e.stop()}},e)})),1e4);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this,a=this.state,t=a.cpwr,n=a.relay,c=a.tmp;return s.a.createElement("div",{className:"".concat(w.a.plugInfo," ").concat(w.a.fine)},s.a.createElement("div",{className:w.a.menu,onClick:function(){console.log("click"),e.props.history.push("/detail/"+e.props.plugID)}},"\ue6c0"),s.a.createElement("p",{className:w.a.title},"\u6392\u63d2  ",this.props.plugID,s.a.createElement("span",{className:"".concat(w.a.dot," ").concat(w.a.fineDot)})),s.a.createElement("div",{className:w.a.plugPlain},y.a.map([0,1,2,3],function(a){return s.a.createElement("div",{className:w.a.plug,key:a},s.a.createElement("div",null,"\u63d2\u982d".concat(a+1)),s.a.createElement("div",null,t[a],"\u74e6"),s.a.createElement("div",{className:"".concat(w.a.icon," ").concat("1"===e.state.relay[a]?w.a.iconOn:w.a.iconOff),onClick:Object(E.a)(h.a.mark(function t(){var s;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(s=n)[a]="1"===s[a]?"0":"1",t.next=4,R(s,e.props.plugID);case 4:t.sent.success&&e.setState({relay:s});case 6:case"end":return t.stop()}},t)}))},"\ue623"))})),s.a.createElement("div",{className:w.a.mainInfo},s.a.createElement("p",null,"\u7e3d\u529f\u7387: ",y.a.sumBy(t,function(e){return parseFloat(e)}).toFixed(2),"\u74e6"),s.a.createElement("p",null,"\u6392\u63d2\u6eab\u5ea6: ",parseFloat(y.a.maxBy(c,function(e){return parseFloat(e)})).toFixed(2),"\u02daC"),s.a.createElement("p",null,"\u96fb\u58d3: ",this.state.vol," V")))}}]),a}(s.a.Component),x=(Object(_.e)(j),function(e){function a(e,t){var n;return Object(r.a)(this,a),(n=Object(o.a)(this,Object(m.a)(a).call(this,e,t))).state={symbol:"",error:""},console.log(n.props.history),n}return Object(p.a)(a,e),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:w.a.body},s.a.createElement("div",{className:w.a.title},"Please Input the Symbol(Ticker)"),s.a.createElement("div",{className:w.a.addPlug},s.a.createElement("input",{placeholder:"Symbol (ex: AAPL)",onChange:function(a){e.setState({symbol:a.target.value})}}),s.a.createElement("div",{className:w.a.addButton,onClick:function(){e.props.history.push("/detail/"+e.state.symbol)}},"Search")),s.a.createElement("div",{style:{color:"red"}},this.state.error))}}]),a}(s.a.Component)),k=Object(_.e)(x),P=t(1),G=t.n(P),C=(s.a.Component,function(e){function a(e,t){return Object(r.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e,t))}return Object(p.a)(a,e),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this.props,a=e.title,t=e.description,n=e.url,c=e.source,l=e.sent;return console.log(l,l>=0),s.a.createElement("div",{className:"".concat(G.a.newsCards," ").concat(G.a.box," ").concat(l>=0?G.a.red:G.a.green)},s.a.createElement("div",null,a),s.a.createElement("div",null,"- ",t),s.a.createElement("a",{href:n},c))}}]),a}(s.a.Component)),D=t(29),T=t.n(D),I=function(e){function a(e,t){var n;return Object(r.a)(this,a),(n=Object(o.a)(this,Object(m.a)(a).call(this,e,t))).state={predict:{},series:[],error:"",options:{chart:{type:"candlestick",zoom:{autoScaleYaxis:!0},animations:{speed:1e3}},title:{text:"Recent Prices",align:"left"},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0},forceNiceScale:!0}}},n}return Object(p.a)(a,e),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidMount",value:function(){var e=Object(E.a)(h.a.mark(function e(){var a,t,n,s,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={symbol:this.props.match.params.id},e.next=3,b("get_stock_price",a);case 3:if(!(t=e.sent).warn){e.next=8;break}this.setState({error:"Not Supported Yet"}),e.next=17;break;case 8:return n=[],y.a.each(t,function(e,a){n.push({x:new Date(parseInt(a)),y:[e.Open.toFixed(2),e.High.toFixed(2),e.Low.toFixed(2),e.Close.toFixed(2)]})}),s=[{data:n}],this.setState({series:s}),e.next=14,b("predict",a);case 14:c=e.sent,console.log(c),this.setState({predict:c});case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,a=e.error,t=(e.series,e.options,e.predict);return"Not Supported Yet"===a?s.a.createElement("div",{className:G.a.body},s.a.createElement("div",{className:G.a.infoPlain},s.a.createElement("div",{className:G.a.stripName},"Stock prediction for ",this.props.match.params.id," is not supported yet"),s.a.createElement("div",{className:G.a.error},"Please contact lchenbm@connect.ust.hk to train model for this symbol"))):(console.log(t.LGR),s.a.createElement("div",{className:G.a.body},s.a.createElement("div",{className:G.a.infoPlain},s.a.createElement("div",{className:G.a.stripName},"Stock Prediction for ",this.props.match.params.id),s.a.createElement("div",{className:G.a.chart},s.a.createElement(T.a,{options:this.state.options,series:this.state.series,type:"candlestick",width:"100%",height:"100%"})),s.a.createElement("div",{className:G.a.stripName},"Predict Trend"),s.a.createElement("div",{className:G.a.classifier},s.a.createElement("div",{className:G.a.cell},s.a.createElement("div",null,"Logistic Regression"),s.a.createElement("div",null,"Trend Prediction")),s.a.createElement("div",{className:G.a.cell},s.a.createElement("div",null,"1 Day"),t.LGR&&t.LGR[0]>0?s.a.createElement("div",{className:G.a.iconRed},"\ue65f"):s.a.createElement("div",{className:G.a.iconGreen},"\ue65d")),s.a.createElement("div",{className:G.a.cell},s.a.createElement("div",null,"7 Day"),t.LGR&&t.LGR[1]>0?s.a.createElement("div",{className:G.a.iconRed},"\ue65f"):s.a.createElement("div",{className:G.a.iconGreen},"\ue65d")),s.a.createElement("div",{className:G.a.cell},s.a.createElement("div",null,"30 Day"),t.LGR&&t.LGR[2]>0?s.a.createElement("div",{className:G.a.iconRed},"\ue65f"):s.a.createElement("div",{className:G.a.iconGreen},"\ue65d"))),s.a.createElement("div",{className:G.a.classifier},s.a.createElement("div",{className:G.a.cell},s.a.createElement("div",null,"Decision Tree"),s.a.createElement("div",null,"Trend Prediction")),s.a.createElement("div",{className:G.a.cell},s.a.createElement("div",null,"1 Day"),t.DT&&t.DT[0]>0?s.a.createElement("div",{className:G.a.iconRed},"\ue65f"):s.a.createElement("div",{className:G.a.iconGreen},"\ue65d")),s.a.createElement("div",{className:G.a.cell},s.a.createElement("div",null,"7 Day"),t.DT&&t.DT[1]>0?s.a.createElement("div",{className:G.a.iconRed},"\ue65f"):s.a.createElement("div",{className:G.a.iconGreen},"\ue65d")),s.a.createElement("div",{className:G.a.cell},s.a.createElement("div",null,"30 Day"),t.DT&&t.DT[2]>0?s.a.createElement("div",{className:G.a.iconRed},"\ue65f"):s.a.createElement("div",{className:G.a.iconGreen},"\ue65d"))),s.a.createElement("div",{className:G.a.classifier},s.a.createElement("div",{className:G.a.cell},s.a.createElement("div",null,"Random Forest"),s.a.createElement("div",null,"Trend Prediction")),s.a.createElement("div",{className:G.a.cell},s.a.createElement("div",null,"1 Day"),t.RF&&t.RF[0]>0?s.a.createElement("div",{className:G.a.iconRed},"\ue65f"):s.a.createElement("div",{className:G.a.iconGreen},"\ue65d")),s.a.createElement("div",{className:G.a.cell},s.a.createElement("div",null,"7 Day"),t.RF&&t.RF[1]>0?s.a.createElement("div",{className:G.a.iconRed},"\ue65f"):s.a.createElement("div",{className:G.a.iconGreen},"\ue65d")),s.a.createElement("div",{className:G.a.cell},s.a.createElement("div",null,"30 Day"),t.RF&&t.RF[2]>0?s.a.createElement("div",{className:G.a.iconRed},"\ue65f"):s.a.createElement("div",{className:G.a.iconGreen},"\ue65d"))),s.a.createElement("div",{className:G.a.classifier},s.a.createElement("div",{className:G.a.cell},s.a.createElement("div",null,"XGBoost"),s.a.createElement("div",null,"Trend Prediction")),s.a.createElement("div",{className:G.a.cell},s.a.createElement("div",null,"1 Day"),t.XGB&&t.XGB[0]>0?s.a.createElement("div",{className:G.a.iconRed},"\ue65f"):s.a.createElement("div",{className:G.a.iconGreen},"\ue65d")),s.a.createElement("div",{className:G.a.cell},s.a.createElement("div",null,"7 Day"),t.XGB&&t.XGB[1]>0?s.a.createElement("div",{className:G.a.iconRed},"\ue65f"):s.a.createElement("div",{className:G.a.iconGreen},"\ue65d")),s.a.createElement("div",{className:G.a.cell},s.a.createElement("div",null,"30 Day"),t.XGB&&t.XGB[2]>0?s.a.createElement("div",{className:G.a.iconRed},"\ue65f"):s.a.createElement("div",{className:G.a.iconGreen},"\ue65d"))),s.a.createElement("div",{className:G.a.news},s.a.createElement("div",{className:G.a.stripName},"Today's Top5 News ",s.a.createElement("span",{className:G.a.iconRed},"\ue648Bullish"),s.a.createElement("span",{className:G.a.iconGreen},"\ue648Bearish")),y.a.map(t.news,function(e,a){return s.a.createElement(C,{key:a,source:e.news_from,title:e.news_title,description:e.news_text,url:e.news_link,sent:t.desc_sent[a]})})))))}}]),a}(s.a.Component),F=Object(_.e)(I),S=(t(42),t(19)),B=t.n(S),L=function(e){function a(e,t){return Object(r.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e,t))}return Object(p.a)(a,e),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:B.a.home},s.a.createElement("div",{className:B.a.header},"Smart Investment",s.a.createElement("div",{className:B.a.returnIcon,onClick:function(){e.props.history.push("/")}},"\ue624")),s.a.createElement(_.a,{exact:!0,path:"/",component:k}),s.a.createElement(_.a,{path:"/detail/:id",component:F}))}}]),a}(s.a.Component),W=Object(_.e)(L);l.a.render(s.a.createElement(u,{app:s.a.createElement(W,null)}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.11e687f3.chunk.js.map